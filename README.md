# ğŸ™ï¸ å®æ—¶è¯­éŸ³ç¿»è¯‘å­—å¹•ç³»ç»Ÿ

å®æ—¶é‡‡é›†ç”µè„‘éŸ³é¢‘è¾“å‡ºï¼Œé€šè¿‡ AI æ¨¡å‹è¿›è¡Œè¯­éŸ³è¯†åˆ«å’Œç¿»è¯‘ï¼Œè¾“å‡ºå®æ—¶å­—å¹•ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”Š **å®æ—¶éŸ³é¢‘é‡‡é›†** - ä½¿ç”¨ PulseAudio æ•è·ç³»ç»ŸéŸ³é¢‘è¾“å‡º
- ğŸ—£ï¸ **è¯­éŸ³è¯†åˆ«** - ä½¿ç”¨ OpenAI Whisper æ¨¡å‹
- ğŸŒ **å®æ—¶ç¿»è¯‘** - æ”¯æŒå¤šç§è¯­è¨€äº’è¯‘
- ğŸ“ **å­—å¹•è¾“å‡º** - æ§åˆ¶å°å®æ—¶æ˜¾ç¤º + å­—å¹•æ–‡ä»¶ä¿å­˜

## ğŸ“¦ å®‰è£…ä¾èµ–

### ä½¿ç”¨ Conda ç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
# åˆ›å»º conda ç¯å¢ƒ
conda create -n voice python=3.10 -y

# æ¿€æ´»ç¯å¢ƒ
conda activate voice

# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt-get install libpulse-dev libasound2-dev ffmpeg

# å®‰è£… Python ä¾èµ–
pip install pulsectl sounddevice soundfile librosa numpy openai-whisper deep-translator
```

### ä½¿ç”¨ pipï¼ˆè™šæ‹Ÿç¯å¢ƒï¼‰

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt-get install libpulse-dev libasound2-dev ffmpeg

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. é¦–å…ˆæŸ¥çœ‹å¯ç”¨çš„éŸ³é¢‘æº

```bash
python realtime_translator.py --list-sources
```

### 2. è¿è¡Œå®æ—¶ç¿»è¯‘

```bash
# é»˜è®¤é…ç½® (è‹±æ–‡ â†’ ä¸­æ–‡)
python realtime_translator.py

# ä½¿ç”¨æ›´å¤§çš„æ¨¡å‹ (æ›´å‡†ç¡®ï¼Œä½†éœ€è¦æ›´å¤šå†…å­˜)
python realtime_translator.py --model medium
python realtime_translator.py --model large

# æ—¥è¯­ç¿»è¯‘æˆä¸­æ–‡
python realtime_translator.py --source ja --target zh

# éŸ©è¯­ç¿»è¯‘æˆè‹±æ–‡
python realtime_translator.py --source ko --target en

# ä¿å­˜å­—å¹•åˆ°æ–‡ä»¶
python realtime_translator.py --output subtitles.txt

# æŒ‡å®šéŸ³é¢‘æº
python realtime_translator.py --source-name "alsa_output.pci-0000_00_1f.3.analog-stereo.monitor"

# è°ƒæ•´é™éŸ³æ£€æµ‹å‚æ•°
python realtime_translator.py --silence-threshold 0.03 --silence-duration 2.0
```

## ğŸ“‹ å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--model`, `-m` | Whisper æ¨¡å‹å¤§å° | `base` |
| `--source`, `-s` | æºè¯­è¨€ä»£ç  | `en` |
| `--target`, `-t` | ç›®æ ‡è¯­è¨€ä»£ç  | `zh` |
| `--output`, `-o` | å­—å¹•è¾“å‡ºæ–‡ä»¶ | æ—  |
| `--source-name` | PulseAudio æºåç§° | è‡ªåŠ¨é€‰æ‹© |
| `--list-sources` | åˆ—å‡ºå¯ç”¨éŸ³é¢‘æº | - |
| `--silence-threshold` | é™éŸ³æ£€æµ‹é˜ˆå€¼ | 0.02 |
| `--silence-duration` | é™éŸ³ç­‰å¾…æ—¶é•¿(ç§’) | 1.5 |

## ğŸ¤– Whisper æ¨¡å‹é€‰æ‹©

| æ¨¡å‹ | å‚æ•°é‡ | é€Ÿåº¦ | æ¨èåœºæ™¯ |
|------|--------|------|----------|
| `tiny` | 39M | æœ€å¿« | å¿«é€Ÿæµ‹è¯• |
| `base` | 74M | å¿« | ä¸€èˆ¬ç”¨é€” |
| `small` | 244M | ä¸­ç­‰ | å¹³è¡¡ç²¾åº¦å’Œé€Ÿåº¦ |
| `medium` | 769M | è¾ƒæ…¢ | é«˜ç²¾åº¦éœ€æ±‚ |
| `large` | 1550M | æœ€æ…¢ | æœ€é«˜ç²¾åº¦ |

## ğŸŒ æ”¯æŒçš„è¯­è¨€

Whisper æ”¯æŒè¿‘ 100 ç§è¯­è¨€ï¼ŒåŒ…æ‹¬ï¼š
- `en` - è‹±è¯­
- `zh` - ä¸­æ–‡
- `ja` - æ—¥è¯­
- `ko` - éŸ©è¯­
- `fr` - æ³•è¯­
- `de` - å¾·è¯­
- `es` - è¥¿ç­ç‰™è¯­
- `ru` - ä¿„è¯­
- ç­‰ç­‰...

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®æ—¶è¯­éŸ³ç¿»è¯‘å­—å¹•ç³»ç»Ÿ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ PulseAudio  â”‚  â†  ç³»ç»ŸéŸ³é¢‘è¾“å‡º (Monitor)      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚          â†“                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ éŸ³é¢‘é‡‡é›†æ¨¡å— â”‚  å®æ—¶é‡‡é›†éŸ³é¢‘æµ                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚          â†“                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ VADæ£€æµ‹     â”‚  è¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼Œé™éŸ³åˆ†æ®µ           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚          â†“                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ Whisper     â”‚  è¯­éŸ³è¯†åˆ« â†’ æ–‡å­—                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚          â†“                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ ç¿»è¯‘å¼•æ“    â”‚  æ–‡å­—ç¿»è¯‘                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚          â†“                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚ å­—å¹•è¾“å‡º    â”‚  æ§åˆ¶å°æ˜¾ç¤º + æ–‡ä»¶ä¿å­˜             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **PulseAudio å¿…é¡»è¿è¡Œ** - ç³»ç»Ÿä¾èµ– PulseAudio ä½œä¸ºéŸ³é¢‘æœåŠ¡å™¨
2. **å†…å­˜è¦æ±‚** - è¾ƒå¤§çš„æ¨¡å‹éœ€è¦æ›´å¤šå†…å­˜ (large æ¨¡å‹çº¦ 3GB)
3. **ç½‘ç»œè¦æ±‚** - ç¿»è¯‘åŠŸèƒ½éœ€è¦ç½‘ç»œè¿æ¥ (Google/DeepL ç¿»è¯‘)
4. **CPU/GPU** - æ”¯æŒ CUDA åŠ é€Ÿï¼Œéœ€å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ PyTorch

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: æ‰¾ä¸åˆ° audio monitor source?
```bash
# æ£€æŸ¥ PulseAudio çŠ¶æ€
pactl info

# æŸ¥çœ‹å¯ç”¨æº
pactl list sources
```

### Q: è¯†åˆ«ä¸å‡†ç¡®?
- å°è¯•ä½¿ç”¨æ›´å¤§çš„æ¨¡å‹ (`--model medium` æˆ– `large`)
- è°ƒæ•´é™éŸ³æ£€æµ‹å‚æ•°
- ç¡®ä¿ç¯å¢ƒå™ªéŸ³è¾ƒå°

### Q: ç¿»è¯‘å¤±è´¥?
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¿»è¯‘æœåŠ¡å¯èƒ½æœ‰é¢‘ç‡é™åˆ¶
- å°è¯•åˆ‡æ¢ç¿»è¯‘æœåŠ¡

## ğŸ“ License

MIT License
